window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),Node.prototype.addClass=function(e){this.classList.add(e)},Node.prototype.removeClass=function(e){this.classList.remove(e)},Node.prototype.toggleClass=function(e){this.classList.contains(e)?this.classList.remove(e):this.classList.add(e)},Node.prototype.removeClassByPrefix=function(e,t){var r=new RegExp("\\b"+e+"[^ ]*[ ]?\\b","g");this.className=this.className.replace(r,e+t)},HTMLFormElement.prototype.reportValidity||(HTMLFormElement.prototype.reportValidity=function(){if(this.checkValidity())return!0;var e=document.createElement("button");return this.appendChild(e),e.click(),this.removeChild(e),!1}),HTMLInputElement.prototype.reportValidity||(HTMLInputElement.prototype.reportValidity=function(){if(this.checkValidity())return!0;var e,t=this.form;t||((e=document.createElement("form")).style.display="inline",this.before(e),e.append(this));var r=Array.from(t.elements).filter((function(e){return e!==this&&!!e.checkValidity&&!e.disabled}),this);return t.reportValidity(),r.forEach((function(e){e.disabled=!1})),e&&(e.before(this),e.remove()),this.focus(),this.selectionStart=0,!1});var isNumericInput=function(e){var t=e.keyCode;return t>=48&&t<=57||t>=96&&t<=105},isModifierKey=function(e){var t=e.keyCode;return!0===e.shiftKey||35===t||36===t||8===t||9===t||13===t||46===t||t>36&&t<41||(!0===e.ctrlKey||!0===e.metaKey)&&(65===t||67===t||86===t||88===t||90===t)},enforceFormat=function(e){isNumericInput(e)||isModifierKey(e)||e.preventDefault()},formatToPhone=function(e){if(!isModifierKey(e)){var t=e.target,r=e.target.value.replace(/\D/g,"").substring(0,10),i=r.substring(0,2),n=r.substring(2,6),o=r.substring(6,10);r.length>6?t.value=i+" "+n+" "+o:r.length>2?t.value=i+" "+n:r.length>0&&(t.value=""+i)}},formatToCuit=function(e){if(!isModifierKey(e)){var t=e.target,r=e.target.value.replace(/\D/g,"").substring(0,11),i=r.substring(0,2),n=r.substring(2,10),o=r.substring(10,11);r.length>9?t.value=i+"-"+n+"-"+o:r.length>2?t.value=i+"-"+n:r.length>0&&(t.value=""+i)}};function formatMoney(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{t=Math.abs(t),t=isNaN(t)?2:t;var n=e<0?"-":"",o=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),s=o.length>3?o.length%3:0;return n+(s?o.substr(0,s)+i:"")+o.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?r+Math.abs(e-o).toFixed(t).slice(2):"")}catch(e){console.log(e)}}function soloNumeros(e){var t=window.event?e.which:e.keyCode;(t<48||t>57)&&e.preventDefault()}function validarNum(e){var t=document.querySelectorAll(e);t.length>0&&t.forEach((function(e){e.addEventListener("keypress",soloNumeros,!1)}))}var easeInCubic=function(e){return e*e*e},scrollToElem=function e(t,r,i,n,o){var s=r-t,a=s/i;a=Math.min(a,1);var l=easeInCubic(a);window.scroll(0,o+n*l),s<i&&requestAnimationFrame((function(r){var s=r||(new Date).getTime();e(t,s,i,n,o)}))};function scrollBox(e){var t=document.getElementById(e);requestAnimationFrame((function(e){var r=e||(new Date).getTime(),i=r,n=window.pageYOffset,o=t.getBoundingClientRect().top;scrollToElem(i,r,600,o,n)}))}var eventClick=new Event("click");document.dispatchEvent(eventClick);;var sliderInterval;function slideAlreadyActive(e){return e.classList.contains("active")}function removeActiveDot(e){document.querySelector("."+e+" .slider .dots .dot.active").classList.remove("active")}function automaticSlide(e){sliderInterval=window.setInterval((function(){swipeTo("next",e)}),8e3)}function resetSliderInterval(){window.clearInterval(sliderInterval),automaticSlide()}function moveSlides(e,t){document.querySelectorAll("."+t+" .slider .slideItem").forEach((function(t){t.style.transform="translateX(-"+100*e+"vw)"}))}function swipeTo(e,t){var i=document.querySelector("."+t+" .slider .dots"),n=document.querySelector("."+t+" .slider .dots .dot.active")[e+"ElementSibling"];n||(n="next"==e?i.children[0]:i.children[i.children.length-1]),changeActiveSlide(n,Array.prototype.indexOf.call(i.children,n),t)}function addSliderSwipe(e){var t=document.querySelector("."+e+" .slider"),i=0;t.addEventListener("touchstart",(function(e){i=e.touches[0].clientX}),{passive:!0}),t.addEventListener("touchend",(function(t){var n=i-t.changedTouches[0].clientX;n>70&&(swipeTo("next",e),resetSliderInterval()),n<-70&&(swipeTo("previous",e),resetSliderInterval())}),{passive:!0})}function changeActiveSlide(e,t,i){slideAlreadyActive(e)||(removeActiveDot(i),moveSlides(t,i),e.className+=" active")}function addSliderDotsEvents(e){document.querySelectorAll("."+e+" .slider .dots .dot").forEach((function(t,i){t.addEventListener("click",(function(){changeActiveSlide(t,i,e),resetSliderInterval()}))}))}function initSlider(e){addSliderDotsEvents(e),addSliderSwipe(e)}initSlider("slider-desktop"),initSlider("slider-mobile");;window.addEventListener("load",(function(){var e=document.getElementById("telefono");e.addEventListener("keydown",enforceFormat),e.addEventListener("keyup",formatToPhone);var n=document.getElementById("open-menu"),t=document.getElementById("close-menu");if(null!=n){var o=document.querySelector(".header-menu"),a=document.querySelector(".menu-overlay");n.addEventListener("click",(function(e){e.preventDefault(),o.setAttribute("class","header-menu slide-in"),a.addClass("slide-in");var n=document.querySelectorAll(".header-menu .item-scroll");n.length>0&&n.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),t.dispatchEvent(eventClick)}))}))}))}null!=t&&t.addEventListener("click",(function(e){e.preventDefault();var n=document.querySelector(".header-menu"),t=document.querySelector(".menu-overlay");n.setAttribute("class","header-menu slide-out"),t.removeClass("active")}));var r=!1,c=document.querySelector(".card"),l=document.querySelector(".close-banner");window.IntersectionObserver&&new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting?(c.removeClass("fixed"),l.removeClass("show")):r||e.boundingClientRect.top<0&&(c.addClass("fixed"),l.addClass("show"))}))}),{rootMargin:"0px 0px -20px 0px"}).observe(document.querySelector("#handle-card"));l.addEventListener("click",(function(e){e.preventDefault(),r=!0,c.removeClass("fixed"),l.addClass("hidden")}))}));var modal=document.querySelector(".modal-trigger");null!=modal&&modal.addEventListener("click",(function(e){e.preventDefault();var n=document.getElementById("modal"),t=document.getElementById("overlay");n.addClass("active"),t.addClass("active"),n.firstChild.nextSibling.addEventListener("click",(function(e){n.removeClass("active"),t.removeClass("active")}))}));var markers=[],ubicacionUser=void 0;function initMap(){if(navigator.geolocation){navigator.geolocation.watchPosition((function(e){var n=e.coords;ubicacionUser=n.latitude+","+n.longitude,generarMap(n.latitude,n.longitude)}),(function(e){console.error("ERROR("+e.code+"): "+e.message)}),{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3})}else console.warn("Geolocation not support")}function generarMap(e,n){var t=new google.maps.LatLng(e,n),o=new google.maps.Map(document.getElementById("map"),{zoom:13,center:t});showSucursales(o),google.maps.event.addListener(o,"dragend",(function(){setMapOnAll(null),showSucursales(o)}))}function showSucursales(e){var n={location:new google.maps.LatLng(e.center.lat(),e.center.lng()),query:"icbc",fields:["name","geometry"]};service=new google.maps.places.PlacesService(e),service.textSearch(n,(function(n,t){if(t===google.maps.places.PlacesServiceStatus.OK)for(var o=0;o<n.length;o++)setMarkers(n[o],e)}))}function setMarkers(e,n){var t={url:"./static/img/map.png",size:new google.maps.Size(35,35),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,35)},o=new google.maps.Marker({position:e.geometry.location,map:n,icon:t,shape:{coords:[1,1,1,20,18,20,18,1],type:"poly"},title:e.formatted_address,name:e.name});markers.push(o);var a=new google.maps.InfoWindow({maxWidth:300});o.addListener("click",(function(e){var t=o.position.lat()+","+o.position.lng(),r="@"+n.center.lat()+","+n.center.lng()+",14z";a.setContent('<div class="body-map"><strong>'+o.name+"</strong><p>"+o.title+'</p><a href="https://www.google.com/maps/dir/'+ubicacionUser+"/"+t+"/"+r+'" target="_blank" class="searchbox-directions">Como llegar</a></div>'),a.open(n,o)}))}function setMapOnAll(e){for(var n=0;n<markers.length;n++)markers[n].setMap(e)}var acoordions=document.querySelectorAll(".step-accordion .card-accordion .card-link");acoordions.length>0&&acoordions.forEach((function(e){e.addEventListener("click",(function(n){if(n.preventDefault(),e.parentElement.classList.contains("active"))e.parentElement.removeClass("active");else{var t=document.querySelector(".step-accordion .card-accordion.active");null!=t&&t.removeClass("active"),e.parentElement.addClass("active")}}))})),document.getElementById("scrollTop").addEventListener("click",(function(e){e.preventDefault(),scrollBox("hero")}));var navLinks=document.querySelectorAll(".header-menu .item-scroll");navLinks.length>0&&navLinks.forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault();var t=e.getAttribute("href").slice(1);scrollBox(t);var o=document.querySelector(".header-menu .item-scroll.active");null!=o&&o.removeClass("active"),e.addClass("active")}))}));